---
title: 【做题记录】洛谷省选计划 2021 Week 3 做题记录

date: 2023-02-18 15:34:06

description: 本文为洛谷省选计划 2021 Week 3 的做题记录。

katex: true

tags:

- 做题记录
 
categories: 

- OI

- 洛谷省选计划

sticky: 1

cover: /img/15.png
---

## 前言

本文为洛谷省选计划 2021 Week 3 的做题记录。

每道题的超链接后面都有该题的通过状态，其中 {% label AC green %} 表示已经通过，{% label NC default %} 表示未完成。

------

## 正文

- [P5330 [SNOI2019] 数论](https://www.luogu.com.cn/problem/P5330) {% label AC green %}

题解：

{% note success flat %}

考虑将 $0 \sim \text{T} - 1$ 内的数以 $\operatorname{lcm}(\text{P}, \text{Q})$ 为块长分块，那么问题就转化为求出每一块的答案和最后一块的答案。

先考虑如何求出每一块的答案，注意到对于一对 $\text{A}_i$ 和 $\text{B}_j$，它们合法当且仅当 $\gcd (\text{P}, \text{Q}) \mid |\text{A}_i - \text{B}_j|$，那么我们求出 $\text{A}_i$ 和 $\text{B}_j$ 在模 $\gcd(\text{P}, \text{Q})$ 的每一个剩余系中的个数，然后相乘并求和即可。

再考虑如何求出最后一块的答案，我们枚举所有的 $\text{A}_i$，它能贡献到的所有 $\text{B}_j$ 即为 $(\text{A}_i + \text{P}\cdot k ) \bmod \text{Q}~(k \in \N)$，这个差分即可。

[代码实现](https://www.luogu.com.cn/record/102431700)

{% endnote %}

------

- [P5323 [BJOI2019] 光线](https://www.luogu.com.cn/problem/P5323) {% label AC green %}

题解：

{% note success flat %}

对于相邻的两层玻璃，我们有办法将它们合并为一层玻璃，并求出它的透光率和反射率。

具体地，我们考虑每一个局面：前 $i$ 层玻璃的透光率和反射率分别为 $\text{P}$ 和 $\text{Q}$（$i = 0$ 时 $\text{P} = 1,\text{Q} = 0$），现在我们要将第 $i +1$ 层的玻璃合并进来，设合并后的玻璃的透光率和反射率分别为 $\text{P}'$ 和 $\text{Q}'$，那么有：
$$
\begin{aligned}
\text{P}' &= \frac{a_{i +1}}{1 - \text{Q} \cdot b_{i +1}}
\\
\text{Q}' &= b_{i+1} + \frac{\text{Q} \cdot a_{i+1}^2}{1 - \text{Q} \cdot b_{i + 1}}
\end{aligned}
$$
直接依次枚举每一层玻璃做即可。

[代码实现](https://www.luogu.com.cn/record/68680925)

{% endnote %}

------

- [P2606 [ZJOI2010] 排列计数](https://www.luogu.com.cn/problem/P2606) {% label AC green %}

题解：

{% note success flat %}

问题转化为求有多少个大小为 $n$ 的堆。

由于堆的结构是确定的，因此 $\mathcal{DP}$ 是平凡的。

注意由于 $m$ 可能不超过 $n$，因此要用$\mathcal{Lucas}$ 定理求组合数。

[代码实现](https://www.luogu.com.cn/record/102449349)

{% endnote %}

------

## 未完待续 ……
